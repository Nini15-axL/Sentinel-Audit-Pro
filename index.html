<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sentinel Audit Pro</title>
<style>
body { font-family: Arial,sans-serif; margin:0; padding:0; background:#f0f2f5; color:#0B1E3F;}
header { background:#1A73E8; color:white; padding:50px 20px; text-align:center; }
h1,h2 { margin:0; }
h2 { color:#FF9500; margin-bottom:30px; text-align:center; }
section { max-width:1000px; margin:0 auto; padding:30px 20px; }
.pack { background:white; padding:20px; border-radius:15px; margin-bottom:25px; box-shadow:0 5px 20px rgba(0,0,0,0.1); }
.pack h3 { margin-top:0; }
.pack ul { margin:10px 0 15px 20px; }
.pack p.price { font-weight:bold; color:#FF9500; }
.abonnement select { width:100%; padding:10px; border-radius:8px; margin-top:10px; margin-bottom:15px; }
#confirmation { display:none; padding:30px; background:#d4edda; color:#155724; border-radius:15px; margin-top:20px; text-align:center; }
footer { text-align:center; padding:20px; color:#555; background:#e0e0e0; margin-top:40px; }
</style>
</head>
<body>

<header>
<h1>Sentinel Audit Pro</h1>
<p>Audit cybersécurité rapide et complet pour petites entreprises et freelances</p>
</header>

<section>
<h2>Nos Packs</h2>

<div class="pack" id="pack-express">
<h3>Pack Express – 250€</h3>
<ul>
<li>Scan basique du site</li>
<li>PDF résumé automatique</li>
</ul>
<p class="price">250 €</p>
<div id="paypal-express"></div>
</div>

<div class="pack" id="pack-pro">
<h3>Pack Pro – 500€</h3>
<ul>
<li>Scan complet 360°</li>
<li>PDF détaillé + plan priorisé</li>
<li>Analyse complète des vulnérabilités</li>
</ul>
<p class="price">500 €</p>
<div id="paypal-pro"></div>
</div>

<div class="pack" id="pack-premier">
<h3>Pack Premier – Abonnements</h3>
<ul>
<li>Scan complet + rapport + monitoring</li>
<li>Support rapide</li>
</ul>
<div class="abonnement">
<select id="abonnementSelect">
<option value="">-- Choisir un abonnement --</option>
<option value="premier_250">PDF + plan priorisé – 250€/mois</option>
<option value="premier_300">Débriefing personnalisé – 300€/mois</option>
<option value="premier_500">Protection continue – 500€/mois</option>
<option value="premier_900">Pack complet – 900€/mois</option>
</select>
<div id="paypal-premier"></div>
</div>
</div>

<div id="confirmation">
<h2>✅ Merci !</h2>
<p>Votre audit Sentinel Audit Pro est en cours. Vous recevrez le rapport automatiquement.</p>
</div>

</section>

<footer>
&copy; 2025 Sentinel Audit Pro. Tous droits réservés.
</footer>

<script src="https://www.paypal.com/sdk/js?client-id=ARWiU1EoJoc20Ht7sWAKSSbEhGC88lB6NFAX4a5Lzs_zzQgJmeROf0Kgfo-lba4jpEeZKbbz21_H8AZE&currency=EUR"></script>
<script>
function renderPayPal(containerId, amount, packName) {
  paypal.Buttons({
    style: { shape:'pill', color:'blue', label:'pay' },
    createOrder: function(data, actions) {
      return actions.order.create({ purchase_units:[{ amount:{ value: amount } }] });
    },
    onApprove: function(data, actions) {
      return actions.order.capture().then(function(details) {
        fetch('https://script.google.com/macros/s/TON_ID_DEPLOYMENT/exec', {
          method:'POST',
          headers:{ 'Content-Type':'application/json' },
          body:JSON.stringify({
            name: details.payer.name.given_name,
            email: details.payer.email_address,
            pack: packName
          })
        });
        document.querySelectorAll('.pack').forEach(p=>p.style.display='none');
        document.getElementById('confirmation').style.display='block';
      });
    }
  }).render('#'+containerId);
}

// Packs fixes
renderPayPal('paypal-express','250','express');
renderPayPal('paypal-pro','500','pro');

// Pack Premier dynamique
document.getElementById('abonnementSelect').addEventListener('change',function(){
  const val=this.value;
  let montant='0';
  if(val==='premier_250') montant='250';
  if(val==='premier_300') montant='300';
  if(val==='premier_500') montant='500';
  if(val==='premier_900') montant='900';
  document.getElementById('paypal-premier').innerHTML='';
  if(montant!=='0') renderPayPal('paypal-premier',montant,val);
});
</script>

</body>
</html>
